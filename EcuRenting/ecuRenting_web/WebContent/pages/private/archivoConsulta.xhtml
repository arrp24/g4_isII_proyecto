<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:body>
	<ui:composition template="../../template/common/layout.xhtml">
		<script language="javascript"
			src="#{request.contextPath}/syntaxhighlighter/scripts/shCore.js"></script>
		<ui:define name="title">SGE :: Consulta Archivos</ui:define>
		<ui:define name="content">
			<h2 class="ui-state-default">Consulta de Archivos</h2>
			<h:form id="formEdit">

				<p:growl id="messages" showDetail="true" />
				<p:tooltip />

				<p:dataTable id="dataTable" var="archivo"
					value="#{archivoBacking.presentacionAutorizados()}" paginator="true" rows="10"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="5,10,15">

	
					<p:column headerText="Código" sortBy="#{archivo.id}" orderBy="#{archivo.id}"
						filterBy="#{darchivo.id}" filterMatchMode="contains">
						<h:outputText value="#{archivo.id}" />
					</p:column>
					
					<p:column sortBy="#{archivo.descripcion}" headerText="Título"
						filterBy="#{documento.titulo}" filterMatchMode="contains">
						<h:outputText value="#{archivo.descripcion}" />
					</p:column>

					<p:column headerText="Documento">
						<p:commandButton id="btnVerDocumento" icon="ui-icon-search"
							title="Haga clic para visualizar el documento"
							onclick="openFile('#{archivoBacking.obtenerUrlDocumento(archivo)}')">
						</p:commandButton>
					</p:column>
					
					<p:column headerText="Mapa">
						<p:commandButton id="btnVerMapa" icon="ui-icon-search"
							title="Haga clic para visualizar el mapa"
							onclick="openFile('#{archivoBacking.obtenerUrlMapa(archivo)}')">
						</p:commandButton>
					</p:column>
					
					<p:column headerText="Imágen">
						<p:commandButton id="btnVerImagen" icon="ui-icon-search"
							title="Haga clic para visualizar la imágen"
							onclick="openFile('#{archivoBacking.obtenerUrlImagen(archivo)}')">
						</p:commandButton>
					</p:column>

				</p:dataTable>

			</h:form>

		</ui:define>
	</ui:composition>
</h:body>
</html>